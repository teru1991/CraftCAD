# DECISION_LOG

最終更新: 2026-02-28  
形式: ADR 風（軽量）

---

## ADR-0001: データ正本を `.diycad` に統一する

- 日付: 2026-02-28
- ステータス: Accepted
- 文脈:
  - プロジェクトデータの持ち運び性、再現性、単体完結性を重視する。
- 決定:
  - 正本は `.diycad`（zip + manifest + data + assets）とする。
- 影響:
  - 外部保存先に依存しないため環境差異を抑制できる。
  - フォーマット互換性管理（schema_version）が必須になる。

## ADR-0002: DB を採用しない

- 日付: 2026-02-28
- ステータス: Accepted
- 文脈:
  - 単一ファイル完結の運用を最優先とする。
- 決定:
  - RDB/NoSQL/SQLite を導入しない。
- 影響:
  - データ同期や検索最適化はファイルベースの設計で対応する。
  - DB マイグレーション運用は不要になる。

## ADR-0003: 決定性をプロダクト要件にする

- 日付: 2026-02-28
- ステータス: Accepted
- 文脈:
  - 同入力で結果が揺れると検証・共有・信頼性が低下する。
- 決定:
  - 「同入力 -> 同結果」を必須要件として採用する。
- 影響:
  - seed、順序、丸め、ε を明示管理する必要がある。
  - ゴールデンテスト/リピートテストを継続実行する。

## ADR-0004: 技術スタックを Core=Rust / Desktop=Qt / Mobile=Flutter とする

- 日付: 2026-02-28
- ステータス: Accepted
- 文脈:
  - 高性能な計算コアと、デスクトップ/モバイル双方の展開を早期に両立したい。
- 決定:
  - Core は Rust、Desktop は Qt、Mobile は Flutter。
- 影響:
  - Core API 境界を明確化し、UI 層は薄く保つ必要がある。
  - ビルド/CI 戦略はマルチツールチェーン前提となる。
